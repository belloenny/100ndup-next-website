{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Documents/work/100ndup/website/pages/projects/[pid].tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport * as React from \"react\";\nimport Layout from \"../../components/Layout\";\nimport { LazyImage } from \"../../components/lazyImage\";\nimport fetch from \"isomorphic-unfetch\";\n\nvar ProjectPage = function ProjectPage(props) {\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      currentImage = _React$useState2[0],\n      setCurrentImage = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      viewerIsOpen = _React$useState4[0],\n      setViewerIsOpen = _React$useState4[1];\n\n  var openLightbox = React.useCallback(function (index) {\n    setCurrentImage(index);\n    setViewerIsOpen(true);\n  }, []);\n\n  var closeLightbox = function closeLightbox() {\n    setCurrentImage(0);\n    setViewerIsOpen(false);\n  };\n\n  React.useEffect(function () {\n    console.log(props.projects);\n  });\n  var projects = props.projects;\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3564203654\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: \"jsx-3564203654\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-3564203654\" + \" \" + \"photo-grid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, projects.photos.map(function (photo, index) {\n    return __jsx(LazyImage, {\n      src: photo.url,\n      alt: photo.name,\n      key: index,\n      onclick: openLightbox.bind(null, index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    });\n  }))), __jsx(_JSXStyle, {\n    id: \"3564203654\",\n    __self: this\n  }, \".container.jsx-3564203654{margin:200px auto 0 auto;max-width:1080px;}.container.jsx-3564203654 h1.jsx-3564203654{text-align:center;font-size:55px;margin-bottom:50px;}.photo-grid.jsx-3564203654{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWMvRG9jdW1lbnRzL3dvcmsvMTAwbmR1cC93ZWJzaXRlL3BhZ2VzL3Byb2plY3RzL1twaWRdLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEwRXdCLEFBRzhDLEFBSVAsQUFLTCxhQUNKLEtBTE0sSUFNNEMsR0FWMUMsUUFLRSxTQUp2QixVQUtBLDJCQUtBIiwiZmlsZSI6Ii9Vc2Vycy9tYWMvRG9jdW1lbnRzL3dvcmsvMTAwbmR1cC93ZWJzaXRlL3BhZ2VzL3Byb2plY3RzL1twaWRdLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBOZXh0UGFnZSB9IGZyb20gXCJuZXh0XCJcbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvTGF5b3V0XCJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiXG5pbXBvcnQgQ2Fyb3VzZWwsIHsgTW9kYWwsIE1vZGFsR2F0ZXdheSB9IGZyb20gXCJyZWFjdC1pbWFnZXNcIlxuaW1wb3J0IHsgTGF6eUltYWdlIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvbGF6eUltYWdlXCJcbmltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy11bmZldGNoXCJcbmltcG9ydCB7IHJlYWRTeW5jIH0gZnJvbSBcImZzXCJcblxuaW50ZXJmYWNlIFBob3RvIHtcbiAgICBpZDogbnVtYmVyXG4gICAgbmFtZTogc3RyaW5nXG4gICAgdXJsOiBzdHJpbmdcbn1cbmludGVyZmFjZSBQcm9qZWN0IHtcbiAgICBpZDogbnVtYmVyXG4gICAgVGl0bGU6IHN0cmluZ1xuICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICAgIHVwZGF0ZWRfYXQ6IHN0cmluZ1xuICAgIHBob3RvczogQXJyYXk8UGhvdG8+XG59XG5cblxuY29uc3QgUHJvamVjdFBhZ2UgPSBwcm9wcyA9PiB7XG4gICAgY29uc3QgW2N1cnJlbnRJbWFnZSwgc2V0Q3VycmVudEltYWdlXSA9IFJlYWN0LnVzZVN0YXRlKDApXG4gICAgY29uc3QgW3ZpZXdlcklzT3Blbiwgc2V0Vmlld2VySXNPcGVuXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKVxuICAgIGNvbnN0IG9wZW5MaWdodGJveCA9IFJlYWN0LnVzZUNhbGxiYWNrKGluZGV4ID0+IHtcbiAgICAgICAgc2V0Q3VycmVudEltYWdlKGluZGV4KVxuICAgICAgICBzZXRWaWV3ZXJJc09wZW4odHJ1ZSlcbiAgICB9LCBbXSlcblxuICAgIGNvbnN0IGNsb3NlTGlnaHRib3ggPSAoKSA9PiB7XG4gICAgICAgIHNldEN1cnJlbnRJbWFnZSgwKVxuICAgICAgICBzZXRWaWV3ZXJJc09wZW4oZmFsc2UpXG4gICAgfVxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb3BzLnByb2plY3RzKVxuICAgIH0pXG4gICAgY29uc3QgcHJvamVjdHMgPSBwcm9wcy5wcm9qZWN0c1xuICAgIHJldHVybiAoXG4gICAgICAgIDxMYXlvdXQ+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxoMT48L2gxPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGhvdG8tZ3JpZFwiPlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RzLnBob3Rvcy5tYXAoKHBob3RvLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPExhenlJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17cGhvdG8udXJsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17cGhvdG8ubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s9e29wZW5MaWdodGJveC5iaW5kKG51bGwsIGluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7LyogPE1vZGFsR2F0ZXdheT5cbiAgICAgICAgICAgICAgICB7dmlld2VySXNPcGVuID8gKFxuICAgICAgICAgICAgICAgICAgICA8TW9kYWwgb25DbG9zZT17Y2xvc2VMaWdodGJveH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2Fyb3VzZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXg9e2N1cnJlbnRJbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3cz17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0cyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdHMucGhvdG9zLm1hcCh4ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi54XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvTW9kYWw+XG4gICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8L01vZGFsR2F0ZXdheT4gKi99XG5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAyMDBweCBhdXRvIDAgYXV0bztcbiAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDgwcHg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC5jb250YWluZXIgaDEge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogNTVweDtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNTBweDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLnBob3RvLWdyaWQge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICAgICAgICAgICAgICBnYXA6IDFyZW07XG4gICAgICAgICAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoNDAwcHgsIDFmcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPC9MYXlvdXQ+XG4gICAgKVxufVxuXG5Qcm9qZWN0UGFnZS5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyAoY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYGh0dHBzOi8vbW9ybmluZy1zaG9yZS0zMTc5OS5oZXJva3VhcHAuY29tL3Byb2plY3RzLyR7Y29udGV4dC5xdWVyeS5waWR9YFxuICAgIClcbiAgICBjb25zdCBwcm9qZWN0cyAgPSBkYXRhLmpzb24oKVxuICAgIHJldHVybiBwcm9qZWN0c1xufVxuXG5leHBvcnQgZGVmYXVsdCBQcm9qZWN0UGFnZVxuIl19 */\\n/*@ sourceURL=/Users/mac/Documents/work/100ndup/website/pages/projects/[pid].tsx */\"));\n};\n\nProjectPage.getInitialProps = function _callee(context) {\n  var data, projects;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch(\"https://morning-shore-31799.herokuapp.com/projects/\".concat(context.query.pid)));\n\n        case 2:\n          data = _context.sent;\n          projects = data.json();\n          return _context.abrupt(\"return\", projects);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default ProjectPage;","map":{"version":3,"sources":["/Users/mac/Documents/work/100ndup/website/pages/projects/[pid].tsx"],"names":["React","Layout","LazyImage","fetch","ProjectPage","props","useState","currentImage","setCurrentImage","viewerIsOpen","setViewerIsOpen","openLightbox","useCallback","index","closeLightbox","useEffect","console","log","projects","photos","map","photo","url","name","bind","getInitialProps","context","query","pid","data","json"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,OAAOC,MAAP,MAAmB,yBAAnB;AAGA,SAASC,SAAT,QAA0B,4BAA1B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;AAiBA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAAC,KAAK,EAAI;AAAA,wBACeL,KAAK,CAACM,QAAN,CAAe,CAAf,CADf;AAAA;AAAA,MAClBC,YADkB;AAAA,MACJC,eADI;;AAAA,yBAEeR,KAAK,CAACM,QAAN,CAAe,KAAf,CAFf;AAAA;AAAA,MAElBG,YAFkB;AAAA,MAEJC,eAFI;;AAGzB,MAAMC,YAAY,GAAGX,KAAK,CAACY,WAAN,CAAkB,UAAAC,KAAK,EAAI;AAC5CL,IAAAA,eAAe,CAACK,KAAD,CAAf;AACAH,IAAAA,eAAe,CAAC,IAAD,CAAf;AACH,GAHoB,EAGlB,EAHkB,CAArB;;AAKA,MAAMI,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxBN,IAAAA,eAAe,CAAC,CAAD,CAAf;AACAE,IAAAA,eAAe,CAAC,KAAD,CAAf;AACH,GAHD;;AAIAV,EAAAA,KAAK,CAACe,SAAN,CAAgB,YAAM;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAK,CAACa,QAAlB;AACH,GAFD;AAGA,MAAMA,QAAQ,GAAGb,KAAK,CAACa,QAAvB;AACA,SACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA,wCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAA,wCAAe,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGIA,QAAQ,CAACC,MAAT,CAAgBC,GAAhB,CAAoB,UAACC,KAAD,EAAQR,KAAR;AAAA,WAChB,MAAC,SAAD;AACI,MAAA,GAAG,EAAEQ,KAAK,CAACC,GADf;AAEI,MAAA,GAAG,EAAED,KAAK,CAACE,IAFf;AAGI,MAAA,GAAG,EAAEV,KAHT;AAII,MAAA,OAAO,EAAEF,YAAY,CAACa,IAAb,CAAkB,IAAlB,EAAwBX,KAAxB,CAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADgB;AAAA,GAApB,CAHJ,CAFJ,CADJ;AAAA;AAAA;AAAA,g7JADJ;AAqDH,CArED;;AAuEAT,WAAW,CAACqB,eAAZ,GAA8B,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACPvB,KAAK,8DACkCuB,OAAO,CAACC,KAAR,CAAcC,GADhD,EADE;;AAAA;AACpBC,UAAAA,IADoB;AAIpBX,UAAAA,QAJoB,GAIRW,IAAI,CAACC,IAAL,EAJQ;AAAA,2CAKnBZ,QALmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA9B;;AAQA,eAAed,WAAf","sourcesContent":["import * as React from \"react\"\nimport { NextPage } from \"next\"\nimport Layout from \"../../components/Layout\"\nimport { useRouter } from \"next/router\"\nimport Carousel, { Modal, ModalGateway } from \"react-images\"\nimport { LazyImage } from \"../../components/lazyImage\"\nimport fetch from \"isomorphic-unfetch\"\nimport { readSync } from \"fs\"\n\ninterface Photo {\n    id: number\n    name: string\n    url: string\n}\ninterface Project {\n    id: number\n    Title: string\n    created_at: string\n    updated_at: string\n    photos: Array<Photo>\n}\n\n\nconst ProjectPage = props => {\n    const [currentImage, setCurrentImage] = React.useState(0)\n    const [viewerIsOpen, setViewerIsOpen] = React.useState(false)\n    const openLightbox = React.useCallback(index => {\n        setCurrentImage(index)\n        setViewerIsOpen(true)\n    }, [])\n\n    const closeLightbox = () => {\n        setCurrentImage(0)\n        setViewerIsOpen(false)\n    }\n    React.useEffect(() => {\n        console.log(props.projects)\n    })\n    const projects = props.projects\n    return (\n        <Layout>\n            <div className=\"container\">\n                <h1></h1>\n                <div className=\"photo-grid\">\n                    {\n    \n                    projects.photos.map((photo, index) => (\n                        <LazyImage\n                            src={photo.url}\n                            alt={photo.name}\n                            key={index}\n                            onclick={openLightbox.bind(null, index)}\n                        />\n                    ))}\n                </div>\n            </div>\n            {/* <ModalGateway>\n                {viewerIsOpen ? (\n                    <Modal onClose={closeLightbox}>\n                        <Carousel\n                            currentIndex={currentImage}\n                            views={\n                                \n                                projects &&\n                                //@ts-ignore\n                                projects.photos.map(x => ({\n                                    ...x\n                                }))\n                            }\n                        />\n                    </Modal>\n                ) : null}\n            </ModalGateway> */}\n\n            <style jsx>{`\n                .container {\n                    margin: 200px auto 0 auto;\n                    max-width: 1080px;\n                }\n                .container h1 {\n                    text-align: center;\n                    font-size: 55px;\n                    margin-bottom: 50px;\n                }\n                .photo-grid {\n                    display: grid;\n                    gap: 1rem;\n                    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n                }\n            `}</style>\n        </Layout>\n    )\n}\n\nProjectPage.getInitialProps = async (context) => {\n    const data = await fetch(\n        `https://morning-shore-31799.herokuapp.com/projects/${context.query.pid}`\n    )\n    const projects  = data.json()\n    return projects\n}\n\nexport default ProjectPage\n"]},"metadata":{},"sourceType":"module"}